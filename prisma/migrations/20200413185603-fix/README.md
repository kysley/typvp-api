# Migration `20200413185603-fix`

This migration has been generated by Evan Kysley <evan@kysley.com> at 4/13/2020, 6:56:03 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Account" DROP COLUMN "lastPlayed",
ADD COLUMN "lastPlayed" "ResultType"  ;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200412003649-new2..20200413185603-fix
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator typegraphql {
   provider = "node_modules/typegraphql-prisma/generator.js"
@@ -13,19 +13,19 @@
 }
 model Account {
   color             String?
-  confirmed         Boolean   @default(false)
-  createdAt         DateTime  @default(now())
-  email             String    @unique
-  id                String    @id @default(cuid())
-  lastPlayed        String?
-  lastSeen          DateTime  @default(now())
+  confirmed         Boolean     @default(false)
+  createdAt         DateTime    @default(now())
+  email             String      @unique
+  id                String      @id @default(cuid())
+  lastPlayed        ResultType?
+  lastSeen          DateTime    @default(now())
   password          String
-  role              Role      @default(USER)
-  updatedAt         DateTime  @default(now())
-  username          String    @unique
-  usernameLowercase String?   @unique
+  role              Role        @default(USER)
+  updatedAt         DateTime    @updatedAt
+  username          String      @unique
+  usernameLowercase String?     @unique
   tests             Test[]
   trials            Trial[]
 }
@@ -37,9 +37,9 @@
   id          String     @id @default(cuid())
   incorrect   Int
   rawCpm      Int
   type        ResultType
-  updatedAt   DateTime   @default(now())
+  updatedAt   DateTime   @updatedAt
   wordIndex   Int
   wpm         Int
   trial       Trial?     @relation(fields: [trialId], references: [id])
   trialId     String?
@@ -55,9 +55,9 @@
   maxWordLength Int?
   minWordLength Int?
   name          String
   private       Boolean?    @default(false)
-  updatedAt     DateTime    @default(now())
+  updatedAt     DateTime    @updatedAt
   wordSet       String
   results       Test[]
   owner         Account?    @relation(fields: [ownerId], references: [id])
   ownerId       String?
```


